"use client"

import React, { useState, useEffect } from 'react'
import { motion, AnimatePresence } from 'framer-motion'
import confetti from 'canvas-confetti'
import { Lightbulb, Leaf, Award, Zap, ThumbsUp, ChevronRight } from 'lucide-react'

const allQuestions = [
  {
    question: "Qual √© o principal objetivo do melhoramento gen√©tico na pecu√°ria?",
    options: [
      "Aumentar a beleza dos animais",
      "Melhorar a produ√ß√£o e qualidade",
      "Reduzir custos de alimenta√ß√£o",
      "Criar novas esp√©cies"
    ],
    correctAnswer: 1,
    hint: "Pense no que traz mais benef√≠cios econ√¥micos para o produtor."
  },
  {
    question: "O que √© o cruzamento seletivo?",
    options: [
      "Mistura aleat√≥ria de ra√ßas",
      "Reprodu√ß√£o entre parentes pr√≥ximos",
      "Sele√ß√£o dos melhores animais para reprodu√ß√£o",
      "Clonagem de animais"
    ],
    correctAnswer: 2,
    hint: "Envolve escolha cuidadosa dos reprodutores."
  },
  {
    question: "Qual √© o prop√≥sito principal da insemina√ß√£o artificial?",
    options: [
      "Aumentar o tamanho do rebanho",
      "Prevenir doen√ßas gen√©ticas",
      "Reproduzir sem contato direto",
      "Alterar a cor dos animais"
    ],
    correctAnswer: 2,
    hint: "Permite reprodu√ß√£o sem necessidade de proximidade f√≠sica."
  },
  {
    question: "O que significa a sigla DNA?",
    options: [
      "Dados Novos Agropecu√°rios",
      "Divis√£o Natural Animal",
      "√Åcido Desoxirribonucleico",
      "Desenvolvimento Nutricional Avan√ßado"
    ],
    correctAnswer: 2,
    hint: "√â o c√≥digo gen√©tico presente em todos os seres vivos."
  },
  {
    question: "Qual √© um benef√≠cio comum do melhoramento gen√©tico na pecu√°ria?",
    options: [
      "Animais mais coloridos",
      "Maior resist√™ncia a doen√ßas",
      "Redu√ß√£o do tempo de vida",
      "Aumento do tamanho dos chifres"
    ],
    correctAnswer: 1,
    hint: "Contribui para a sa√∫de geral do rebanho."
  },
  {
    question: "O que √© um marcador gen√©tico?",
    options: [
      "Uma tatuagem no animal",
      "Um tipo de ra√ß√£o especial",
      "Um gene indicador de caracter√≠sticas",
      "Um m√©todo de contagem de animais"
    ],
    correctAnswer: 2,
    hint: "Ajuda a identificar tra√ßos espec√≠ficos no DNA."
  },
  {
    question: "Qual √© o papel da biotecnologia no melhoramento gen√©tico animal?",
    options: [
      "Criar rob√¥s animais",
      "Desenvolver novos tipos de ra√ß√£o",
      "Melhorar t√©cnicas de reprodu√ß√£o",
      "Treinar animais para tarefas complexas"
    ],
    correctAnswer: 2,
    hint: "Envolve o uso de tecnologia avan√ßada na reprodu√ß√£o."
  },
  {
    question: "O que estuda a epigen√©tica?",
    options: [
      "Cores dos animais",
      "Efeitos ambientais nos genes",
      "Tamanho dos cromossomos",
      "Velocidade de crescimento"
    ],
    correctAnswer: 1,
    hint: "Analisa como fatores externos afetam a express√£o gen√©tica."
  },
  {
    question: "O que √© a sele√ß√£o gen√¥mica?",
    options: [
      "Escolha de animais pela cor",
      "Sele√ß√£o baseada no DNA",
      "Separa√ß√£o por tamanho",
      "Agrupamento por idade"
    ],
    correctAnswer: 1,
    hint: "Utiliza informa√ß√µes do genoma para escolhas."
  },
  {
    question: "Por que a diversidade gen√©tica √© importante em um rebanho?",
    options: [
      "Para ter animais coloridos",
      "Aumenta a resist√™ncia geral",
      "Facilita a contagem",
      "Melhora o sabor da carne"
    ],
    correctAnswer: 1,
    hint: "Contribui para a sa√∫de e adaptabilidade do grupo."
  },
  {
    question: "O que √© um QTL na gen√©tica animal?",
    options: [
      "Quota de Tratamento Leiteiro",
      "Qualidade Total Laboratorial",
      "Locus de caracter√≠stica quantitativa",
      "Quantidade de Tempo de Lacta√ß√£o"
    ],
    correctAnswer: 2,
    hint: "Relaciona-se a caracter√≠sticas mensur√°veis."
  },
  {
    question: "Qual √© o objetivo da transfer√™ncia de embri√µes?",
    options: [
      "Clonar animais",
      "Mudar a cor dos filhotes",
      "Aumentar descendentes superiores",
      "Acelerar o crescimento"
    ],
    correctAnswer: 2,
    hint: "Visa multiplicar caracter√≠sticas desej√°veis."
  },
  {
    question: "O que √© consanguinidade na cria√ß√£o animal?",
    options: [
      "Mistura de sangues diferentes",
      "Acasalamento entre parentes",
      "Transfus√£o de sangue",
      "Teste de tipo sangu√≠neo"
    ],
    correctAnswer: 1,
    hint: "Envolve reprodu√ß√£o dentro da mesma fam√≠lia."
  },
  {
    question: "Qual a fun√ß√£o do pedigree no melhoramento gen√©tico?",
    options: [
      "Determinar a dieta",
      "Registrar linhagem gen√©tica",
      "Medir o peso do animal",
      "Escolher nomes para animais"
    ],
    correctAnswer: 1,
    hint: "Documenta a hist√≥ria familiar do animal."
  },
  {
    question: "O que √© herdabilidade de uma caracter√≠stica?",
    options: [
      "Capacidade de ter filhotes",
      "Influ√™ncia gen√©tica na varia√ß√£o",
      "Velocidade de crescimento",
      "Resist√™ncia a doen√ßas"
    ],
    correctAnswer: 1,
    hint: "Indica quanto dos tra√ßos dos pais passa aos filhos."
  },
  {
    question: "Para que serve o teste de prog√™nie?",
    options: [
      "Determinar a idade",
      "Avaliar valor gen√©tico",
      "Medir o tamanho",
      "Verificar a sa√∫de"
    ],
    correctAnswer: 1,
    hint: "Avalia a qualidade gen√©tica atrav√©s dos descendentes."
  },
  {
    question: "O que √© um SNP na gen√©tica molecular?",
    options: [
      "Sistema Nacional de Pecu√°ria",
      "Sele√ß√£o Natural Produtiva",
      "S√≠ndrome de Nutri√ß√£o Pobre",
      "Polimorfismo de nucleot√≠deo √∫nico"
    ],
    correctAnswer: 3,
    hint: "Refere-se a varia√ß√µes pontuais no DNA."
  },
  {
    question: "Qual a import√¢ncia da gen√¥mica na pecu√°ria moderna?",
    options: [
      "Criar animais coloridos",
      "Selecionar caracter√≠sticas precisamente",
      "Aumentar o tamanho dos animais",
      "Reduzir o tempo de gesta√ß√£o"
    ],
    correctAnswer: 1,
    hint: "Permite sele√ß√£o mais acurada de tra√ßos desej√°veis."
  },
  {
    question: "O que √© um banco de germoplasma?",
    options: [
      "Banco que financia fazendeiros",
      "Local de armazenamento de ra√ß√µes",
      "Cole√ß√£o de material gen√©tico",
      "Sistema de contabilidade rural"
    ],
    correctAnswer: 2,
    hint: "Preserva diversidade gen√©tica para o futuro."
  },
  {
    question: "Como a bioinform√°tica auxilia o melhoramento gen√©tico?",
    options: [
      "Criando rob√¥s para fazendas",
      "Analisando grandes volumes de dados",
      "Desenvolvendo novas ra√ß√µes",
      "Automatizando a ordenha"
    ],
    correctAnswer: 1,
    hint: "Processa informa√ß√µes gen√©ticas complexas."
  },
  {
    question: "O que √© a t√©cnica CRISPR na pecu√°ria?",
    options: [
      "M√©todo de alimenta√ß√£o",
      "Sistema de identifica√ß√£o",
      "Ferramenta de edi√ß√£o gen√©tica",
      "T√©cnica de vacina√ß√£o"
    ],
    correctAnswer: 2,
    hint: "Permite modifica√ß√µes precisas no DNA."
  },
  {
    question: "O que √© sele√ß√£o assistida por marcadores (MAS)?",
    options: [
      "Escolha por cores",
      "Sele√ß√£o usando DNA",
      "Marca√ß√£o f√≠sica de animais",
      "Separa√ß√£o por tamanho"
    ],
    correctAnswer: 1,
    hint: "Utiliza informa√ß√µes gen√©ticas espec√≠ficas na sele√ß√£o."
  },
  {
    question: "Como a engenharia gen√©tica difere do melhoramento tradicional?",
    options: [
      "√â mais r√°pida",
      "Usa apenas plantas",
      "Modifica diretamente o DNA",
      "N√£o altera genes"
    ],
    correctAnswer: 2,
    hint: "Envolve manipula√ß√£o direta do material gen√©tico."
  },
  {
    question: "O que √© um gene knockout?",
    options: [
      "Gene campe√£o",
      "Gene desativado",
      "Gene mutante",
      "Gene duplicado"
    ],
    correctAnswer: 1,
    hint: "Envolve a remo√ß√£o ou inativa√ß√£o de um gene espec√≠fico."
  },
  {
    question: "Como a epigen√©tica influencia caracter√≠sticas na pecu√°ria?",
    options: [
      "Mudando o DNA",
      "Alterando express√£o g√™nica",
      "Criando novos genes",
      "Eliminando genes ruins"
    ],
    correctAnswer: 1,
    hint: "Afeta como os genes s√£o expressos sem alterar a sequ√™ncia de DNA."
  },
  {
    question: "O que √© genotipagem por sequenciamento (GBS)?",
    options: [
      "M√©todo de alimenta√ß√£o",
      "T√©cnica de vacina√ß√£o",
      "Identifica√ß√£o de varia√ß√µes gen√©ticas",
      "Sistema de reprodu√ß√£o"
    ],
    correctAnswer: 2,
    hint: "Analisa eficientemente o DNA de muitos animais."
  },
  {
    question: "Por que conservar ra√ßas nativas √© importante?",
    options: [
      "Apenas para exibi√ß√£o",
      "Manter fazendas bonitas",
      "Preservar genes √∫nicos",
      "Aumentar pre√ßos de carne"
    ],
    correctAnswer: 2,
    hint: "Mant√©m caracter√≠sticas adaptativas importantes."
  },
  {
    question: "Como o estresse t√©rmico afeta a express√£o g√™nica?",
    options: [
      "N√£o afeta",
      "Muda a cor do pelo",
      "Altera genes de adapta√ß√£o",
      "Aumenta o tamanho"
    ],
    correctAnswer: 2,
    hint: "Influencia como certos genes respondem ao ambiente."
  },
  {
    question: "O que √© RNA de interfer√™ncia (RNAi)?",
    options: [
      "Novo tipo de ra√ß√£o",
      "T√©cnica de silenciamento g√™nico",
      "M√©todo de reprodu√ß√£o",
      "Sistema de comunica√ß√£o animal"
    ],
    correctAnswer: 1,
    hint: "Usado para 'desligar' genes espec√≠ficos temporariamente."
  },
  {
    question: "Qual o papel da metagen√¥mica na sa√∫de animal?",
    options: [
      "Estudar plantas",
      "Analisar microorganismos",
      "Criar novos medicamentos",
      "Medir temperatura corporal"
    ],
    correctAnswer: 1,
    hint: "Examina o conjunto de genes de todos os microrganismos presentes."
  },
  {
    question: "Como a sele√ß√£o gen√¥mica revolucionou a pecu√°ria leiteira?",
    options: [
      "Produzindo leite colorido",
      "Sele√ß√£o mais precisa",
      "Aumentando tamanho das vacas",
      "Criando sabores novos"
    ],
    correctAnswer: 1,
    hint: "Permite prever caracter√≠sticas produtivas com mais precis√£o."
  },
  {
    question: "O que √© clonagem animal e suas aplica√ß√µes?",
    options: [
      "Criar rob√¥s animais",
      "Reproduzir c√≥pias gen√©ticas",
      "Mudar cor dos animais",
      "Acelerar crescimento"
    ],
    correctAnswer: 1,
    hint: "Produz animais geneticamente id√™nticos."
  },
  {
    question: "Como a nutrigen√¥mica melhora a efici√™ncia alimentar?",
    options: [
      "Criando super alimentos",
      "Estudando genes e dieta",
      "Fazendo animais comerem menos",
      "Aumentando apetite"
    ],
    correctAnswer: 1,
    hint: "Analisa como os genes respondem a diferentes nutrientes."
  },
  {
    question: "O que √© transfer√™ncia nuclear de c√©lulas som√°ticas?",
    options: [
      "Troca de n√∫cleos celulares",
      "Insemina√ß√£o artificial",
      "Fertiliza√ß√£o in vitro",
      "Transplante de √≥rg√£os"
    ],
    correctAnswer: 0,
    hint: "Envolve a substitui√ß√£o do n√∫cleo de um √≥vulo."
  },
  {
    question: "Qual a import√¢ncia dos estudos de associa√ß√£o gen√¥mica (GWAS)?",
    options: [
      "Determinar cor dos animais",
      "Identificar genes importantes",
      "Medir peso dos animais",
      "Contar cromossomos"
    ],
    correctAnswer: 1,
    hint: "Associa varia√ß√µes gen√©ticas a caracter√≠sticas espec√≠ficas."
  },
  {
    question: "Como a edi√ß√£o gen√©tica melhora a resist√™ncia a doen√ßas?",
    options: [
      "Criando super vacinas",
      "Modificando genes imunol√≥gicos",
      "Eliminando todos os pat√≥genos",
      "Isolando animais doentes"
    ],
    correctAnswer: 1,
    hint: "Altera genes espec√≠ficos relacionados √† imunidade."
  },
  {
    question: "O que diferencia a sele√ß√£o gen√¥mica da tradicional?",
    options: [
      "√â mais lenta",
      "Usa apenas apar√™ncia",
      "Analisa o genoma completo",
      "Ignora o pedigree"
    ],
    correctAnswer: 2,
    hint: "Utiliza informa√ß√µes de todo o DNA do animal."
  },
  {
    question: "Qual o papel da bioinform√°tica na an√°lise gen√¥mica?",
    options: [
      "Criar websites",
      "Processar dados gen√©ticos",
      "Treinar animais",
      "Desenvolver ra√ß√µes"
    ],
    correctAnswer: 1,
    hint: "Lida com grandes volumes de informa√ß√µes gen√©ticas."
  },
  {
    question: "Como a gen√¥mica auxilia na conserva√ß√£o de esp√©cies?",
    options: [
      "Criando novos animais",
      "Preservando diversidade",
      "Aumentando popula√ß√£o",
      "Alterando habitat"
    ],
    correctAnswer: 1,
    hint: "Ajuda a manter a variabilidade gen√©tica."
  },
  {
    question: "O que s√£o marcadores moleculares?",
    options: [
      "Chips eletr√¥nicos",
      "Sequ√™ncias de DNA indicadoras",
      "Tatuagens nos animais",
      "Tipos de ra√ß√£o"
    ],
    correctAnswer: 1,
    hint: "Identificam caracter√≠sticas gen√©ticas espec√≠ficas."
  },
  {
    question: "Como melhorar a qualidade da carne bovina via gen√¥mica?",
    options: [
      "Aumentando o tamanho",
      "Identificando genes de qualidade",
      "Mudando a cor da carne",
      "Alterando a dieta"
    ],
    correctAnswer: 1,
    hint: "Foca em genes relacionados a caracter√≠sticas desej√°veis da carne."
  },
  {
    question: "O que √© sequenciamento de nova gera√ß√£o (NGS)?",
    options: [
      "Novo m√©todo de cria√ß√£o",
      "T√©cnica r√°pida de leitura de DNA",
      "Sistema de reprodu√ß√£o",
      "Contagem de cromossomos"
    ],
    correctAnswer: 1,
    hint: "Permite analisar o DNA muito mais rapidamente."
  },
  {
    question: "Como a epigen√©tica afeta a produ√ß√£o animal?",
    options: [
      "N√£o afeta",
      "Altera cor dos animais",
      "Modifica express√£o g√™nica",
      "Muda o DNA permanentemente"
    ],
    correctAnswer: 2,
    hint: "Influencia como os genes s√£o ativados ou desativados."
  },
  {
    question: "O que √© um QTL e sua import√¢ncia?",
    options: [
      "Quociente de Tempo Leiteiro",
      "Regi√£o gen√¥mica influente",
      "Qualidade Total do Leite",
      "Quantidade de Trato Linf√°tico"
    ],
    correctAnswer: 1,
    hint: "Associado a caracter√≠sticas quantitativas importantes."
  },
  {
    question: "Como a gen√¥mica reduz o impacto ambiental da pecu√°ria?",
    options: [
      "Criando animais menores",
      "Selecionando efici√™ncia",
      "Eliminando flatul√™ncia",
      "Usando menos terra"
    ],
    correctAnswer: 1,
    hint: "Foca em caracter√≠sticas que melhoram a efici√™ncia e reduzem emiss√µes."
  },
  {
    question: "O que √© genotipagem por sequenciamento (GBS)?",
    options: [
      "M√©todo de alimenta√ß√£o",
      "Identifica√ß√£o de varia√ß√µes",
      "Sistema de reprodu√ß√£o",
      "Contagem de animais"
    ],
    correctAnswer: 1,
    hint: "T√©cnica eficiente para analisar diferen√ßas gen√©ticas."
  },
  {
    question: "Como melhorar a efici√™ncia alimentar via gen√¥mica?",
    options: [
      "Usando menos comida",
      "Identificando genes eficientes",
      "Criando alimentos sint√©ticos",
      "Aumentando o apetite"
    ],
    correctAnswer: 1,
    hint: "Busca genes relacionados √† melhor convers√£o alimentar."
  },
  {
    question: "O que √© CRISPR-Cas9 na pecu√°ria?",
    options: [
      "Nova ra√ßa de gado",
      "Ferramenta de edi√ß√£o gen√©tica",
      "Tipo de ra√ß√£o",
      "M√©todo de vacina√ß√£o"
    ],
    correctAnswer: 1,
    hint: "Permite modifica√ß√µes precisas no DNA dos animais."
  },
  {
    question: "Como selecionar animais resistentes a doen√ßas?",
    options: [
      "Usando mais vacinas",
      "Identificando genes de resist√™ncia",
      "Isolando todos os animais",
      "Eliminando animais doentes"
    ],
    correctAnswer: 1,
    hint: "Foca em caracter√≠sticas gen√©ticas associadas √† imunidade."
  },
  {
    question: "O que √© RNA-Seq?",
    options: [
      "Sequenciamento de DNA",
      "An√°lise de express√£o g√™nica",
      "Reprodu√ß√£o assistida",
      "Contagem de prote√≠nas"
    ],
    correctAnswer: 1,
    hint: "Mede quais genes est√£o ativos em um tecido."
  },
  {
    question: "Como melhorar a produ√ß√£o de leite geneticamente?",
    options: [
      "Aumentando o tamanho das vacas",
      "Selecionando genes produtivos",
      "Usando horm√¥nios",
      "Alterando a dieta"
    ],
    correctAnswer: 1,
    hint: "Foca em genes associados √† lacta√ß√£o e qualidade do leite."
  },
  {
    question: "O que √© sele√ß√£o gen√¥mica?",
    options: [
      "Escolha por apar√™ncia",
      "Sele√ß√£o baseada no DNA",
      "Cruzamento aleat√≥rio",
      "Separa√ß√£o por idade"
    ],
    correctAnswer: 1,
    hint: "Usa informa√ß√µes do genoma completo para prever valor gen√©tico."
  },
  {
    question: "Como a epigen√©tica influencia a produ√ß√£o de carne?",
    options: [
      "N√£o influencia",
      "Altera a express√£o g√™nica",
      "Muda a cor da carne",
      "Aumenta o tamanho do animal"
    ],
    correctAnswer: 1,
    hint: "Afeta como os genes relacionados ao crescimento s√£o expressos."
  },
  {
    question: "O que s√£o SNPs?",
    options: [
      "Suplementos Nutricionais Proteicos",
      "Varia√ß√µes de uma base no DNA",
      "Sistema de Numera√ß√£o Pecu√°ria",
      "Sequ√™ncia de Novos Pept√≠deos"
    ],
    correctAnswer: 1,
    hint: "Pequenas varia√ß√µes gen√©ticas comuns em uma popula√ß√£o."
  },
  {
    question: "Como conservar ra√ßas nativas via gen√¥mica?",
    options: [
      "Criando zool√≥gicos",
      "Preservando diversidade gen√©tica",
      "Misturando todas as ra√ßas",
      "Congelando embri√µes"
    ],
    correctAnswer: 1,
    hint: "Foca em manter a variabilidade gen√©tica √∫nica."
  },
  {
    question: "O que √© microarray?",
    options: [
      "Microsc√≥pio avan√ßado",
      "T√©cnica de an√°lise g√™nica",
      "Chip de identifica√ß√£o",
      "Ra√ß√£o em miniatura"
    ],
    correctAnswer: 1,
    hint: "Permite analisar a express√£o de muitos genes simultaneamente."
  },
  {
    question: "Como melhorar a efici√™ncia reprodutiva via gen√¥mica?",
    options: [
      "Usando horm√¥nios",
      "Identificando genes de fertilidade",
      "Aumentando o n√∫mero de acasalamentos",
      "Reduzindo a idade reprodutiva"
    ],
    correctAnswer: 1,
    hint: "Foca em genes associados √† reprodu√ß√£o e desenvolvimento."
  },
  {
    question: "O que √© PCR em tempo real?",
    options: [
      "Contagem de animais",
      "Medi√ß√£o de express√£o g√™nica",
      "Pesagem autom√°tica",
      "Reprodu√ß√£o controlada"
    ],
    correctAnswer: 1,
    hint: "Quantifica a presen√ßa de sequ√™ncias espec√≠ficas de DNA."
  },
  {
    question: "Como a gen√¥mica melhora o bem-estar animal?",
    options: [
      "Criando animais sem sentimentos",
      "Selecionando adaptabilidade",
      "Aumentando o espa√ßo nas fazendas",
      "Reduzindo a produ√ß√£o"
    ],
    correctAnswer: 1,
    hint: "Busca caracter√≠sticas que promovem melhor adapta√ß√£o e sa√∫de."
  },
  {
    question: "O que √© sequenciamento de terceira gera√ß√£o?",
    options: [
      "Novo m√©todo de cria√ß√£o",
      "T√©cnica de leitura de DNA longo",
      "Sistema de reprodu√ß√£o avan√ßado",
      "Contagem de prote√≠nas"
    ],
    correctAnswer: 1,
    hint: "Permite ler sequ√™ncias muito longas de DNA de uma vez."
  },
  {
    question: "Como melhorar a qualidade da l√£ geneticamente?",
    options: [
      "Penteando as ovelhas diariamente",
      "Selecionando genes de qualidade",
      "Pintando a l√£",
      "Usando xampus especiais"
    ],
    correctAnswer: 1,
    hint: "Foca em genes associados √†s caracter√≠sticas da fibra."
  },
  {
    question: "O que √© genotipagem de baixa densidade?",
    options: [
      "Cria√ß√£o de animais menores",
      "An√°lise gen√©tica econ√¥mica",
      "Redu√ß√£o do rebanho",
      "T√©cnica de alimenta√ß√£o"
    ],
    correctAnswer: 1,
    hint: "M√©todo mais acess√≠vel de obter informa√ß√µes gen√©ticas b√°sicas."
  },
  {
    question: "Como selecionar animais tolerantes ao calor?",
    options: [
      "Criando sombra artificial",
      "Identificando genes de toler√¢ncia",
      "Movendo animais para √°reas frias",
      "Usando ventiladores"
    ],
    correctAnswer: 1,
    hint: "Busca caracter√≠sticas gen√©ticas associadas √† adapta√ß√£o t√©rmica."
  },
  {
    question: "O que √© RNA de interfer√™ncia (RNAi)?",
    options: [
      "Comunica√ß√£o entre animais",
      "T√©cnica de silenciamento g√™nico",
      "Novo tipo de ra√ß√£o",
      "M√©todo de reprodu√ß√£o"
    ],
    correctAnswer: 1,
    hint: "Usado para 'desligar' temporariamente genes espec√≠ficos."
  },
  {
    question: "Como melhorar a resist√™ncia a parasitas geneticamente?",
    options: [
      "Usando mais medicamentos",
      "Selecionando genes de resist√™ncia",
      "Isolando animais infectados",
      "Eliminando todos os parasitas"
    ],
    correctAnswer: 1,
    hint: "Foca em caracter√≠sticas gen√©ticas de defesa natural."
  },
  {
    question: "O que √© ChIP-seq?",
    options: [
      "Chip de identifica√ß√£o",
      "T√©cnica de estudo de intera√ß√µes DNA-prote√≠na",
      "M√©todo de alimenta√ß√£o",
      "Sistema de pesagem"
    ],
    correctAnswer: 1,
    hint: "Mapeia onde prote√≠nas espec√≠ficas se ligam ao DNA."
  },
  {
    question: "Como melhorar a produ√ß√£o de ovos via gen√¥mica?",
    options: [
      "Aumentando o tamanho das galinhas",
      "Selecionando genes de produtividade",
      "Usando luz artificial",
      "Alterando a dieta"
    ],
    correctAnswer: 1,
    hint: "Foca em genes associados √† postura e qualidade dos ovos."
  },
  {
    question: "O que √© sele√ß√£o assistida por marcadores (MAS)?",
    options: [
      "Escolha por cores",
      "Sele√ß√£o usando marcadores gen√©ticos",
      "Marca√ß√£o f√≠sica de animais",
      "Sistema de pesagem"
    ],
    correctAnswer: 1,
    hint: "Usa informa√ß√µes de marcadores espec√≠ficos no DNA."
  },
  {
    question: "Como a epigen√©tica influencia a produ√ß√£o de leite?",
    options: [
      "N√£o influencia",
      "Altera a express√£o de genes l√°cteos",
      "Muda a cor do leite",
      "Aumenta o tamanho do √∫bere"
    ],
    correctAnswer: 1,
    hint: "Afeta como os genes relacionados √† lacta√ß√£o s√£o expressos."
  },
  {
    question: "O que √© um hapl√≥tipo?",
    options: [
      "Tipo de vacina",
      "Conjunto de alelos herdados juntos",
      "Nova ra√ßa animal",
      "M√©todo de alimenta√ß√£o"
    ],
    correctAnswer: 1,
    hint: "Grupo de genes pr√≥ximos que tendem a ser herdados em conjunto."
  },
  {
    question: "Como selecionar para longevidade produtiva?",
    options: [
      "Usando f√≥rmulas anti-envelhecimento",
      "Identificando genes de sa√∫de e efici√™ncia",
      "Aumentando a idade de abate",
      "Reduzindo a produ√ß√£o"
    ],
    correctAnswer: 1,
    hint: "Busca caracter√≠sticas gen√©ticas associadas √† sa√∫de e produtividade duradoura."
  },
  {
    question: "O que √© metabol√¥mica?",
    options: [
      "Estudo de meteoros",
      "An√°lise de metab√≥litos",
      "T√©cnica de clonagem",
      "Sistema de alimenta√ß√£o"
    ],
    correctAnswer: 1,
    hint: "Estuda os produtos qu√≠micos encontrados em um organismo."
  },
  {
    question: "Como melhorar a efici√™ncia da produ√ß√£o de carne su√≠na?",
    options: [
      "Aumentando o tamanho dos porcos",
      "Selecionando genes de crescimento e qualidade",
      "Usando mais antibi√≥ticos",
      "Reduzindo o tempo de cria√ß√£o"
    ],
    correctAnswer: 1,
    hint: "Foca em genes associados ao crescimento eficiente e qualidade da carne."
  },
  {
    question: "O que √© um estudo de associa√ß√£o gen√¥mica ampla (GWAS)?",
    options: [
      "Sistema de pesagem",
      "An√°lise de associa√ß√µes gene-caracter√≠stica",
      "T√©cnica de insemina√ß√£o",
      "M√©todo de treinamento"
    ],
    correctAnswer: 1,
    hint: "Busca correla√ß√µes entre varia√ß√µes gen√©ticas e caracter√≠sticas espec√≠ficas."
  },
  {
    question: "Como reduzir a emiss√£o de metano em rumin antes via gen√¥mica?",
    options: [
      "Eliminando todos os ruminantes",
      "Selecionando genes de baixa emiss√£o",
      "Usando filtros nasais",
      "Mudando completamente a dieta"
    ],
    correctAnswer: 1,
    hint: "Busca caracter√≠sticas gen√©ticas associadas a menor produ√ß√£o de metano."
  },
  {
    question: "O que √© edi√ß√£o de base no DNA?",
    options: [
      "Corre√ß√£o de livros gen√©ticos",
      "T√©cnica de modifica√ß√£o precisa de DNA",
      "M√©todo de reprodu√ß√£o",
      "Sistema de classifica√ß√£o animal"
    ],
    correctAnswer: 1,
    hint: "Permite alterar bases individuais no DNA sem cortes."
  },
  {
    question: "Como melhorar a qualidade da carne de frango geneticamente?",
    options: [
      "Aumentando o tamanho das aves",
      "Selecionando genes de qualidade",
      "Usando aditivos na ra√ß√£o",
      "Alterando o m√©todo de abate"
    ],
    correctAnswer: 1,
    hint: "Foca em genes associados √† textura, sabor e valor nutricional."
  },
  {
    question: "O que √© genotipagem por sequenciamento (GBS)?",
    options: [
      "Contagem de animais",
      "T√©cnica de an√°lise gen√©tica eficiente",
      "Sistema de alimenta√ß√£o",
      "M√©todo de vacina√ß√£o"
    ],
    correctAnswer: 1,
    hint: "Permite analisar varia√ß√µes gen√©ticas em muitos animais de forma econ√¥mica."
  },
  {
    question: "Como melhorar a convers√£o alimentar via gen√¥mica?",
    options: [
      "Reduzindo a quantidade de alimento",
      "Selecionando genes de efici√™ncia metab√≥lica",
      "Aumentando o tamanho do est√¥mago",
      "Usando enzimas artificiais"
    ],
    correctAnswer: 1,
    hint: "Busca caracter√≠sticas gen√©ticas associadas ao uso eficiente dos nutrientes."
  },
  {
    question: "O que √© RNA-seq?",
    options: [
      "Sequenciamento de DNA",
      "An√°lise de express√£o g√™nica",
      "T√©cnica de clonagem",
      "Sistema de reprodu√ß√£o"
    ],
    correctAnswer: 1,
    hint: "Mede quais e quantos genes est√£o ativos em um tecido."
  },
  {
    question: "Como melhorar a resist√™ncia a doen√ßas em peixes?",
    options: [
      "Usando mais antibi√≥ticos",
      "Selecionando genes de imunidade",
      "Aumentando a densidade de cria√ß√£o",
      "Mudando a temperatura da √°gua"
    ],
    correctAnswer: 1,
    hint: "Foca em caracter√≠sticas gen√©ticas associadas √† resposta imune."
  },
  {
    question: "O que diferencia a sele√ß√£o gen√¥mica da tradicional?",
    options: [
      "√â mais lenta",
      "Usa apenas apar√™ncia f√≠sica",
      "Analisa o genoma completo",
      "Ignora o hist√≥rico familiar"
    ],
    correctAnswer: 2,
    hint: "Utiliza informa√ß√µes de todo o DNA do animal para previs√µes mais precisas."
  },
  {
    question: "Como a epigen√©tica afeta a adapta√ß√£o animal?",
    options: [
      "N√£o afeta",
      "Altera a express√£o g√™nica adaptativa",
      "Muda permanentemente o DNA",
      "Cria novos genes"
    ],
    correctAnswer: 1,
    hint: "Influencia como os genes respondem a diferentes ambientes."
  },
  {
    question: "O que s√£o CNVs (Copy Number Variations)?",
    options: [
      "Sistema de identifica√ß√£o",
      "Varia√ß√µes no n√∫mero de c√≥pias de genes",
      "T√©cnica de vacina√ß√£o",
      "M√©todo de contagem"
    ],
    correctAnswer: 1,
    hint: "Refere-se a diferen√ßas no n√∫mero de c√≥pias de segmentos de DNA."
  },
  {
    question: "Como preservar ra√ßas raras geneticamente?",
    options: [
      "Criando mais zool√≥gicos",
      "Mantendo diversidade gen√©tica",
      "Misturando com ra√ßas comuns",
      "Congelando apenas o s√™men"
    ],
    correctAnswer: 1,
    hint: "Foca em conservar a variabilidade gen√©tica √∫nica dessas ra√ßas."
  },
  {
    question: "O que √© imputa√ß√£o gen√¥mica?",
    options: [
      "T√©cnica de clonagem",
      "Infer√™ncia de gen√≥tipos n√£o medidos",
      "Sistema de reprodu√ß√£o",
      "M√©todo de vacina√ß√£o"
    ],
    correctAnswer: 1,
    hint: "Usa informa√ß√µes de popula√ß√£o para prever gen√≥tipos desconhecidos."
  },
  {
    question: "Como melhorar a qualidade da l√£ geneticamente?",
    options: [
      "Usando xampus especiais",
      "Selecionando genes de qualidade da fibra",
      "Alterando a dieta das ovelhas",
      "Protegendo do sol"
    ],
    correctAnswer: 1,
    hint: "Foca em genes associados √†s caracter√≠sticas desej√°veis da l√£."
  },
  {
    question: "O que √© sequenciamento de c√©lula √∫nica?",
    options: [
      "Clonagem de uma c√©lula",
      "An√°lise gen√¥mica de c√©lulas individuais",
      "Contagem de c√©lulas no sangue",
      "T√©cnica de fertiliza√ß√£o"
    ],
    correctAnswer: 1,
    hint: "Permite estudar o genoma ou transcriptoma de c√©lulas isoladas."
  },
  {
    question: "Como melhorar a efici√™ncia na produ√ß√£o de ovos?",
    options: [
      "Aumentando o tamanho das galinhas",
      "Selecionando genes de produtividade",
      "Usando luz artificial constante",
      "Alterando a composi√ß√£o da ra√ß√£o"
    ],
    correctAnswer: 1,
    hint: "Foca em genes associados √† taxa de postura e qualidade dos ovos."
  },
  {
    question: "O que √© sele√ß√£o gen√¥mica single-step?",
    options: [
      "Sele√ß√£o em uma etapa",
      "An√°lise combinada de pedigree e gen√≥tipo",
      "T√©cnica de reprodu√ß√£o r√°pida",
      "Sistema de pesagem √∫nico"
    ],
    correctAnswer: 1,
    hint: "Integra informa√ß√µes de pedigree, fen√≥tipos e gen√≥tipos em uma √∫nica an√°lise."
  },
  {
    question: "Como melhorar a qualidade do leite de cabra geneticamente?",
    options: [
      "Usando aditivos no leite",
      "Selecionando genes de qualidade",
      "Alterando o m√©todo de ordenha",
      "Mudando a cor das cabras"
    ],
    correctAnswer: 1,
    hint: "Foca em genes associados √† composi√ß√£o e sabor do leite."
  },
  {
    question: "O que √© genotipagem de baixa densidade?",
    options: [
      "Cria√ß√£o de animais menores",
      "An√°lise gen√©tica econ√¥mica",
      "Redu√ß√£o do rebanho",
      "T√©cnica de alimenta√ß√£o leve"
    ],
    correctAnswer: 1,
    hint: "M√©todo mais acess√≠vel de obter informa√ß√µes gen√©ticas b√°sicas de muitos animais."
  },
  {
    question: "Como selecionar para longevidade em rebanhos leiteiros?",
    options: [
      "Aumentando a idade de abate",
      "Identificando genes de sa√∫de e produ√ß√£o",
      "Reduzindo a produ√ß√£o de leite",
      "Usando suplementos de longevidade"
    ],
    correctAnswer: 1,
    hint: "Busca caracter√≠sticas gen√©ticas associadas √† sa√∫de e produtividade duradoura."
  },
  {
    question: "O que √© sequenciamento de nova gera√ß√£o (NGS)?",
    options: [
      "Novo m√©todo de cria√ß√£o",
      "T√©cnica r√°pida de leitura de DNA",
      "Sistema de reprodu√ß√£o avan√ßado",
      "Contagem autom√°tica de animais"
    ],
    correctAnswer: 1,
    hint: "Permite sequenciar DNA muito mais r√°pido e economicamente."
  },
  {
    question: "Como melhorar a resist√™ncia a parasitas em ovinos?",
    options: [
      "Usando mais antiparasit√°rios",
      "Selecionando genes de resist√™ncia",
      "Isolando todos os animais",
      "Mudando completamente o habitat"
    ],
    correctAnswer: 1,
    hint: "Foca em caracter√≠sticas gen√©ticas de defesa natural contra parasitas."
  },
  {
    question: "O que √© RNA de interfer√™ncia (RNAi) na pesquisa gen√©tica?",
    options: [
      "Comunica√ß√£o entre animais",
      "T√©cnica de silenciamento g√™nico",
      "Novo tipo de ra√ß√£o",
      "M√©todo de reprodu√ß√£o artificial"
    ],
    correctAnswer: 1,
    hint: "Usado para 'desligar' temporariamente genes espec√≠ficos e estudar suas fun√ß√µes."
  },
  {
    question: "Como melhorar a efici√™ncia na convers√£o alimentar bovina?",
    options: [
      "Reduzindo a quantidade de alimento",
      "Selecionando genes de efici√™ncia metab√≥lica",
      "Aumentando o tamanho dos animais",
      "Usando apenas ra√ß√£o processada"
    ],
    correctAnswer: 1,
    hint: "Busca caracter√≠sticas gen√©ticas associadas ao uso eficiente dos nutrientes."
  },
  {
    question: "Como a epigen√©tica influencia caracter√≠sticas produtivas?",
    options: [
      "N√£o influencia",
      "Alterando a express√£o g√™nica",
      "Mudando permanentemente o DNA",
      "Criando novos genes"
    ],
    correctAnswer: 1,
    hint: "Afeta como os genes s√£o expressos sem alterar a sequ√™ncia de DNA."
  },
  {
    question: "Como melhorar a qualidade da carne su√≠na geneticamente?",
    options: [
      "Aumentando o tamanho dos porcos",
      "Selecionando genes de qualidade da carne",
      "Usando mais aditivos na ra√ß√£o",
      "Alterando o m√©todo de abate"
    ],
    correctAnswer: 1,
    hint: "Foca em genes associados √† textura, sabor e composi√ß√£o da carne."
  },
  {
    question: "O que √© a t√©cnica CRISPR-Cas9 na pecu√°ria?",
    options: [
      "Nova ra√ßa de gado",
      "Ferramenta precisa de edi√ß√£o gen√©tica",
      "M√©todo de insemina√ß√£o",
      "Sistema de identifica√ß√£o animal"
    ],
    correctAnswer: 1,
    hint: "Permite modifica√ß√µes espec√≠ficas e precisas no DNA dos animais."
  },
  {
    question: "Como selecionar aves para maior produ√ß√£o de ovos?",
    options: [
      "Aumentando o tamanho das galinhas",
      "Identificando genes de alta produtividade",
      "Usando luz artificial constante",
      "Alterando a composi√ß√£o da ra√ß√£o"
    ],
    correctAnswer: 1,
    hint: "Foca em caracter√≠sticas gen√©ticas associadas √† taxa de postura e efici√™ncia."
  },
  {
    question: "O que √© um QTL e sua import√¢ncia no melhoramento animal?",
    options: [
      "Quota de Tratamento Leiteiro",
      "Locus de caracter√≠stica quantitativa",
      "Qualidade Total de Linhagem",
      "Quantidade de Tempo de Lacta√ß√£o"
    ],
    correctAnswer: 1,
    hint: "Regi√£o do genoma associada a uma caracter√≠stica quantitativa importante."
  },
  {
    question: "Como a gen√¥mica pode melhorar o bem-estar animal?",
    options: [
      "Criando animais sem sentimentos",
      "Selecionando para melhor adapta√ß√£o",
      "Aumentando a produ√ß√£o a todo custo",
      "Reduzindo o tamanho dos rebanhos"
    ],
    correctAnswer: 1,
    hint: "Busca caracter√≠sticas que promovem melhor adapta√ß√£o e resist√™ncia ao estresse."
  },
  {
    question: "O que √© o sequenciamento de terceira gera√ß√£o?",
    options: [
      "T√©cnica de reprodu√ß√£o avan√ßada",
      "M√©todo de leitura de DNA de mol√©culas longas",
      "Sistema de contagem de gera√ß√µes",
      "Nova forma de cruzamento"
    ],
    correctAnswer: 1,
    hint: "Permite ler sequ√™ncias muito longas de DNA de uma s√≥ vez."
  },
  {
    question: "Como melhorar geneticamente a resist√™ncia ao calor em bovinos?",
    options: [
      "Pintando os animais de branco",
      "Selecionando genes de toler√¢ncia t√©rmica",
      "Mantendo os animais sempre na sombra",
      "Reduzindo o tamanho dos animais"
    ],
    correctAnswer: 1,
    hint: "Foca em caracter√≠sticas gen√©ticas associadas √† adapta√ß√£o a altas temperaturas."
  }
]

function shuffleArray<T>(array: T[]): T[] {
const shuffled = [...array]
for (let i = shuffled.length - 1; i > 0; i--) {
  const j = Math.floor(Math.random() * (i + 1));
  [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]]
}
return shuffled
}

export default function MelhoramentoGeneticoNaPecuaria() {
const [questions, setQuestions] = useState<typeof allQuestions>([])
const [currentQuestion, setCurrentQuestion] = useState(0)
const [score, setScore] = useState(0)
const [showHint, setShowHint] = useState(false)
const [hintsUsed, setHintsUsed] = useState(0)
const [isQuizComplete, setIsQuizComplete] = useState(false)
const [selectedAnswer, setSelectedAnswer] = useState<number | null>(null)
const [isAnswerLocked, setIsAnswerLocked] = useState(false)
const [feedback, setFeedback] = useState('')
const [showFeedbackForm, setShowFeedbackForm] = useState(false)
const [hasCompletedQuiz, setHasCompletedQuiz] = useState(false)
const [showExplanation, setShowExplanation] = useState(false)
const [streak, setStreak] = useState(0)

useEffect(() => {
  const quizCompleted = localStorage.getItem('quizCompleted')
  if (quizCompleted) {
    setHasCompletedQuiz(true)
  } else {
    const shuffledQuestions = shuffleArray([...allQuestions]);
    setQuestions(shuffledQuestions.slice(0, 5));
  }
}, []);

const handleAnswer = (selectedIndex: number) => {
  if (isAnswerLocked) return

  setSelectedAnswer(selectedIndex)
  setIsAnswerLocked(true)

  if (selectedIndex === questions[currentQuestion].correctAnswer) {
    setScore(score + 1)
    setStreak(streak + 1)
    confetti({
      particleCount: 100,
      spread: 70,
      origin: { y: 0.6 }
    })
  } else {
    setStr eak(0)
  }

  setTimeout(() => {
    setShowExplanation(true)
  }, 1000)
}

const nextQuestion = () => {
  if (currentQuestion < questions.length - 1) {
    setCurrentQuestion(currentQuestion + 1)
    setSelectedAnswer(null)
    setShowHint(false)
    setIsAnswerLocked(false)
    setShowExplanation(false)
  } else {
    setIsQuizComplete(true)
    localStorage.setItem('quizCompleted', 'true')
  }
}

const showHintHandler = () => {
  if (hintsUsed < 2) {
    setShowHint(true)
    setHintsUsed(hintsUsed + 1)
  }
}

const getReward = (score: number) => {
  const bubbaloosCount = score <= 3 ? score : 6;
  const pirulitos = score === 5 ? 1 : 0;
  return { bubbaloosCount, pirulitos };
}

const handleFeedbackSubmit = (e: React.FormEvent) => {
  e.preventDefault()
  setShowFeedbackForm(false)
  alert('Obrigado pelo seu feedback!')
}

const buttonVariants = {
  hover: { scale: 1.05 },
  tap: { scale: 0.95 },
}

const questionVariants = {
  initial: { opacity: 0, y: 50 },
  animate: { opacity: 1, y: 0 },
  exit: { opacity: 0, y: -50 }
}

if (hasCompletedQuiz) {
  return (
    <div className="min-h-screen bg-gradient-to-br from-purple-600 via-pink-500 to-red-500 flex items-center justify-center p-4">
      <motion.div 
        className="bg-white rounded-2xl shadow-2xl p-8 max-w-2xl w-full text-center"
        initial={{ scale: 0.8, opacity: 0 }}
        animate={{ scale: 1, opacity: 1 }}
        transition={{ duration: 0.5 }}
      >
        <h2 className="text-3xl font-bold mb-4 text-purple-600">Voc√™ j√° completou o quiz!</h2>
        <p className="text-xl text-gray-600 mb-6">Obrigado por participar. Volte outro dia para mais desafios!</p>
      </motion.div>
    </div>
  )
}

return (
  <div className="min-h-screen bg-gradient-to-br from-purple-600 via-pink-500 to-red-500 flex items-center justify-center p-4">
    <motion.div 
      className="bg-white rounded-2xl shadow-2xl p-8 max-w-2xl w-full"
      initial={{ scale: 0.8, opacity: 0 }}
      animate={{ scale: 1, opacity: 1 }}
      transition={{ duration: 0.5 }}
    >
      <h1 className="text-4xl font-bold text-center mb-8 text-transparent bg-clip-text bg-gradient-to-r from-purple-600 to-pink-600">
        Melhoramento Gen√©tico na Pecu√°ria
        <Leaf className="inline-block ml-2 text-green-500" />
      </h1>
      
      {!isQuizComplete && questions.length > 0 ? (
        <AnimatePresence mode="wait">
          <motion.div
            key={currentQuestion}
            variants={questionVariants}
            initial="initial"
            animate="animate"
            exit="exit"
            transition={{ duration: 0.5 }}
          >
            <div className="mb-4 flex justify-between items-center">
              <span className="text-lg font-semibold text-purple-600">Pergunta {currentQuestion + 1} de {questions.length}</span>
              <span className="text-lg font-semibold text-orange-500">Sequ√™ncia: {streak} üî•</span>
            </div>
            <h2 className="text-2xl font-semibold mb-4 text-gray-800">{questions[currentQuestion].question}</h2>
            <div className="space-y-4">
              {questions[currentQuestion].options.map((option, index) => (
                <motion.button
                  key={index}
                  className={`w-full p-4 text-left rounded-lg text-lg font-medium transition-colors ${
                    selectedAnswer === index
                      ? index === questions[currentQuestion].correctAnswer
                        ? 'bg-green-500 text-white'
                        : 'bg-red-500 text-white'
                      : isAnswerLocked
                        ? 'bg-gray-300 cursor-not-allowed'
                        : 'bg-gray-100 hover:bg-gray-200 text-gray-800'
                  }`}
                  onClick={() => handleAnswer(index)}
                  variants={buttonVariants}
                  whileHover={isAnswerLocked ? {} : "hover"}
                  whileTap={isAnswerLocked ? {} : "tap"}
                  disabled={isAnswerLocked}
                >
                  {option}
                </motion.button>
              ))}
            </div>
            
            <div className="mt-6 flex justify-between items-center">
              <motion.button
                className={`px-4 py-2 rounded-full flex items-center ${
                  hintsUsed < 2 && !isAnswerLocked ? 'bg-gradient-to-r from-yellow-400 to-orange-500 hover:from-yellow-500 hover:to-orange-600 text-white' : 'bg-gray-300 cursor-not-allowed'
                }`}
                onClick={showHintHandler}
                disabled={hintsUsed >= 2 || isAnswerLocked}
                whileHover={hintsUsed < 2 && !isAnswerLocked ? { scale: 1.05 } : {}}
                whileTap={hintsUsed < 2 && !isAnswerLocked ? { scale: 0.95 } : {}}
              >
                <Zap className="mr-2" />
                Turbinar! ({2 - hintsUsed})
              </motion.button>
              <p className="text-xl font-bold text-purple-600">Bubbaloosss: {score} <span className="text-2xl">üç¨</span></p>
            </div>
            
            {showHint && (
              <motion.p
                className="mt-4 p-4 bg-gradient-to-r from-yellow-100 to-orange-100 rounded-lg text-gray-800"
                initial={{ opacity: 0, y: 20 }}
                animate={{ opacity: 1, y: 0 }}
                transition={{ duration: 0.3 }}
              >
                <span className="font-bold">Dica Turbinada:</span> {questions[currentQuestion].hint}
              </motion.p>
            )}

            {showExplanation && (
              <motion.div
                className="mt-6 p-4 bg-blue-100 rounded-lg"
                initial={{ opacity: 0, y: 20 }}
                animate={{ opacity: 1, y: 0 }}
                transition={{ duration: 0.3 }}
              >
                <h3 className="text-lg font-semibold mb-2 text-blue-800">Explica√ß√£o:</h3>
                <p className="text-gray-800">
                  A resposta correta √©: {questions[currentQuestion].options[questions[currentQuestion].correctAnswer]}.
                </p>
                <motion.button
                  className="mt-4 px-6 py-2 bg-blue-500 text-white rounded-full font-semibold flex items-center"
                  onClick={nextQuestion}
                  whileHover={{ scale: 1.05 }}
                  whileTap={{ scale: 0.95 }}
                >
                  Pr√≥xima Pergunta
                  <ChevronRight className="ml-2" />
                </motion.button>
              </motion.div>
            )}
          </motion.div>
        </AnimatePresence>
      ) : isQuizComplete ? (
        <motion.div
          initial={{ opacity: 0, scale: 0.8 }}
          animate={{ opacity: 1, scale: 1 }}
          transition={{ duration: 0.5 }}
          className="text-center"
        >
          <h2 className="text-3xl font-bold mb-4 text-purple-600">Quiz Conclu√≠do!</h2>
          <p className="text-2xl mb-4 text-gray-800">Voc√™ acertou {score} de {questions.length} quest√µes!</p>
          <motion.div
            className="text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-purple-600 to-pink-600"
            initial={{ opacity: 0, y: 20 }}
            animate={{ opacity: 1, y: 0 }}
            transition={{ delay: 0.5 }}
          >
            <Award className="inline-block mr-2 text-yellow-500" />
            Parab√©ns! Voc√™ ganhou {getReward(score).bubbaloosCount} Bubbaloosss
            {getReward(score).pirulitos > 0 && ` e ${getReward(score).pirulitos} Pirulito`}!
            {' '}{Array(getReward(score).bubbaloosCount).fill('üç¨').join('')}{getReward(score).pirulitos > 0 && 'üç≠'}
          </motion.div>
          <motion.p
            className="mt-6 text-lg text-gray-700"
            initial={{ opacity: 0, y: 20 }}
            animate={{ opacity: 1, y: 0 }}
            transition={{ delay: 0.8 }}
          >
            Para receber seu pr√™mio, fale com algu√©m que tenha um crach√°!
          </motion.p>
          {!showFeedbackForm ? (
            <motion.button
              className="mt-6 px-6 py-3 bg-purple-600 text-white rounded-full font-semibold"
              onClick={() => setShowFeedbackForm(true)}
              whileHover={{ scale: 1.05 }}
              whileTap={{ scale: 0.95 }}
            >
              <ThumbsUp className="inline-block mr-2" />
              Dar Feedback
            </motion.button>
          ) : (
            <motion.form
              onSubmit={handleFeedbackSubmit}
              className="mt-6 space-y-4"
              initial={{ opacity: 0, y: 20 }}
              animate={{ opacity: 1, y: 0 }}
            >
              <textarea
                value={feedback}
                onChange={(e) => setFeedback(e.target.value)}
                placeholder="O que voc√™ achou do quiz? Sua opini√£o √© importante para n√≥s!"
                className="w-full p-4 border rounded-lg"
                rows={4}
              />
              <motion.button
                type="submit"
                className="px-6 py-3 bg-purple-600 text-white rounded-full font-semibold"
                whileHover={{ scale: 1.05 }}
                whileTap={{ scale: 0.95 }}
              >
                Enviar Feedback
              </motion.button>
            </motion.form>
          )}
        </motion.div>
      ) : null}
      <motion.p
        className="mt-8 text-sm text-center text-gray-500"
        initial={{ opacity: 0 }}
        animate={{ opacity: 1 }}
        transition={{ delay: 1 }}
      >
        Feito para fins educacionais: Conex ESJ 2024
      </motion.p>
    </motion.div>
  </div>
)
}
